{% extends "base.html" %}
{% load devtags %}
{% load i18n static %}
{% block title %}Ofertas laborales con Python{% endblock %}

{% block content %}
<!-- Lista de trabajos -->
<main id="main" class="joboffers container" role="main" <section>
    <div class="page-header">
        <div class="input-group">
            <input type="text" class="form-control form-control " placeholder="{% trans 'Buscar...' %}">
            <span class="input-group-btn">
                <button class="btn btn-default" type="button">{% trans 'Filtrar' %}</button>
            </span>
        </div><!-- /input-group -->

        <h2>{% trans 'Ofertas de trabajo de ' %} {{ company.name }}</h2>
    </div>

    {% if object_list %}
    <div class="list-group">
        {% for object in object_list %}
        <a href="{{ object.get_absolute_url }}" class="list-group-item">
            <h4 class="text-primary">
                {{ object.title }}<span class="job-date">({{ object.modified_at|date:"SHORT_DATE_FORMAT" }}, {{ object.location }})</span>
            </h4>
            <p>{{ object.description|html2text|truncatewords:50 }}</p>
            <div class="text-right">
                {% include "joboffers/_tags.html" %}
            </div>
        </a>
        {% endfor %}

        <nav class="text-center" aria-label="Page navigation">
          <ul class="pagination pagination-lg">
            {% if page_obj.has_previous %}
            <li>
              <a href="?page={{ page_obj.previous_page_number }}" aria-label="{% trans 'Anterior' %}">
                <span aria-hidden="true">&larr;</span>
              </a>
            </li>
            {% endif %}
            {% for page_number in page_obj.paginator.page_range %}
            <li class="{% if page_number == page_obj.number %} active {% endif %}">
              <a href="?page={{ page_number }}">
                {{ page_number }}
              </a>
            </li>
            {% endfor %}

            {% if page_obj.has_next %}
            <li>
              <a href="?page={{ page_obj.next_page_number }}" aria-label="{% trans 'Siguiente' %}">
                <span aria-hidden="true">&rarr;</span>
              </a>
            </li>
            {% endif %}
          </ul>
        </nav>

    </div>
    {% else %}
    <div class="col-md-12">
        <p>{% trans 'No hay ofertas cargadas actualmente.' %}</p>
    </div>
    {% endif %}
    <div class="section-button-group pull-right">
        <a href="{% url 'joboffers:add' %}" class="btn btn-info">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
            {% trans 'Nueva Oferta' %}
        </a>
    </div>
    </section>

</main>
{% endblock %}
